<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Company Directory - Professional Employee Management</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light">
  <div class="container-fluid p-0">
    <div class="row g-0">
      <!-- SIDEBAR -->
<nav class="col-12 col-md-3 col-lg-2 bg-white border-end min-vh-md-100 pt-4">
        <div class="nav flex-column nav-pills px-3" id="sidebar-nav">
          <button class="nav-link active text-start mb-2 fw-medium" id="nav-staff" type="button">
            <i class="bi bi-people me-2"></i>Staff
          </button>
          <button class="nav-link text-start mb-2 fw-medium text-secondary" id="nav-dept" type="button">
            <i class="bi bi-diagram-3 me-2"></i>Departments
          </button>
          <button class="nav-link text-start mb-2 fw-medium text-secondary" id="nav-loc" type="button">
            <i class="bi bi-geo-alt me-2"></i>Locations
          </button>
        </div>
      </nav>

      <!-- MAIN CONTENT -->
      <main class="col-12 col-md-9 col-lg-10 p-4">
        <!-- PAGE HEADER -->
        <div class="bg-white rounded-3 p-4 mb-4 shadow-sm">
          <div class="d-flex flex-column flex-md-row justify-content-between align-items-md-center">
            <div>
              <div class="d-flex align-items-center gap-3 mb-2">
                <div class="bg-primary text-white rounded-2 d-flex align-items-center justify-content-center" style="width: 3rem; height: 3rem;">
                  <i class="bi bi-person-lines-fill fs-5"></i>
                </div>
                <h1 class="h3 fw-bold mb-0">Employee Directory</h1>
              </div>
              <p class="text-muted mb-0">Find, add, and manage your company's employees.</p>
            </div>
            <div class="d-flex gap-3 mt-3 mt-md-0">
              <button class="btn btn-primary" id="sidebar-add-staff" data-bs-toggle="modal" data-bs-target="#addPersonnelModal">
                <i class="bi bi-person-plus"></i> Add Employee
              </button>
            </div>
          </div>
        </div>

        <!-- STATS CARDS -->
        <div class="row mb-4 g-3">
          <div class="col-12 col-md-4">
            <div class="bg-white rounded-3 shadow-sm p-3">
              <div class="d-flex align-items-center gap-3">
                <div class="bg-primary text-white rounded-2 d-flex align-items-center justify-content-center" style="width: 2.5rem; height: 2.5rem;">
                  <i class="bi bi-people"></i>
                </div>
                <div>
                  <div class="fw-bold fs-4" id="total-employees">0</div>
                  <small class="text-muted">Employees</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="bg-white rounded-3 shadow-sm p-3">
              <div class="d-flex align-items-center gap-3">
                <div class="bg-success text-white rounded-2 d-flex align-items-center justify-content-center" style="width: 2.5rem; height: 2.5rem;">
                  <i class="bi bi-diagram-3"></i>
                </div>
                <div>
                  <div class="fw-bold fs-4" id="total-departments">0</div>
                  <small class="text-muted">Departments</small>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="bg-white rounded-3 shadow-sm p-3">
              <div class="d-flex align-items-center gap-3">
                <div class="bg-info text-white rounded-2 d-flex align-items-center justify-content-center" style="width: 2.5rem; height: 2.5rem;">
                  <i class="bi bi-geo-alt"></i>
                </div>
                <div>
                  <div class="fw-bold fs-4" id="total-locations">0</div>
                  <small class="text-muted">Locations</small>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- STAFF/EMPLOYEE DIRECTORY SECTION -->
        <div id="section-staff">
          <!-- Filters -->
          <div class="row g-3 justify-content-between mb-3">
            <div class="col-12 col-md-3">
              <label class="form-label">Search</label>
              <input type="text" id="searchBox" class="form-control" placeholder="Name, department, or location">
            </div>
            <div class="col-6 col-md-3">
              <label class="form-label">Department</label>
              <select id="filterDept" class="form-select">
                <option value="">All Departments</option>
              </select>
            </div>
            <div class="col-6 col-md-3">
              <label class="form-label">Location</label>
              <select id="filterLoc" class="form-select">
                <option value="">All Locations</option>
              </select>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table table-hover align-middle bg-white" id="personnelTable">
              <thead class="table-light">
                <tr>
                  <th>Avatar</th>
                  <th>Name</th>
                  <th>Department</th>
                  <th>Location</th>
                  <th class="text-end">Actions</th>
                </tr>
              </thead>
              <tbody><!-- Populated by JS --></tbody>
            </table>
          </div>
          <nav>
            <ul class="pagination justify-content-center" id="pagination"></ul>
          </nav>
        </div>

        <!-- DEPARTMENTS SECTION -->
        <div id="section-dept" class="d-none">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h1>Departments</h1>
            <button class="btn btn-outline-primary" id="main-add-dept" data-bs-toggle="modal" data-bs-target="#addDepartmentModal">
              <i class="bi bi-plus"></i> Add Department
            </button>
          </div>
          <div class="table-responsive">
            <table class="table table-striped bg-white" id="departmentsTable">
              <thead class="table-light">
                <tr>
                  <th>Name</th>
                  <th>Location</th>
                  <th>Employees</th>
                  <th class="text-end">Actions</th>
                </tr>
              </thead>
              <tbody><!-- Populated by JS --></tbody>
            </table>
          </div>
        </div>

        <!-- LOCATIONS SECTION -->
        <div id="section-loc" class="d-none">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <h1>Locations</h1>
            <button class="btn btn-outline-primary" id="main-add-loc" data-bs-toggle="modal" data-bs-target="#addLocationModal">
              <i class="bi bi-plus"></i> Add Location
            </button>
          </div>
          <div class="table-responsive">
            <table class="table table-striped bg-white" id="locationsTable">
              <thead class="table-light">
                <tr>
                  <th>Name</th>
                  <th>Departments</th>
                  <th>Employees</th>
                  <th class="text-end">Actions</th>
                </tr>
              </thead>
              <tbody><!-- Populated by JS --></tbody>
            </table>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- Add Personnel Modal -->
  <div class="modal fade" id="addPersonnelModal" tabindex="-1" aria-labelledby="addPersonnelLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form id="personnelForm" novalidate>
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addPersonnelLabel">Add Employee</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body row g-2">
            <input type="hidden" id="personnelId" name="id">
            <div class="col-12 col-md-6">
              <label class="form-label">First Name</label>
              <input type="text" class="form-control" name="firstName" required>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Last Name</label>
              <input type="text" class="form-control" name="lastName" required>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" name="email" required>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Department</label>
              <select class="form-select" name="departmentID" id="departmentSelect" required></select>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Location</label>
              <select class="form-select" name="locationID" id="locationSelect" required></select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Save</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Edit Personnel Modal -->
  <div class="modal fade" id="editPersonnelModal" tabindex="-1" aria-labelledby="editPersonnelLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form id="editPersonnelForm" novalidate>
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editPersonnelLabel">Edit Employee</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body row g-2">
            <input type="hidden" id="editPersonnelId" name="id">
            <div class="col-12 col-md-6">
              <label class="form-label">First Name</label>
              <input type="text" class="form-control" name="firstName" id="editPersonnelFirstName" required>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Last Name</label>
              <input type="text" class="form-control" name="lastName" id="editPersonnelLastName" required>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Email</label>
              <input type="email" class="form-control" name="email" id="editPersonnelEmail" required>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Department</label>
              <select class="form-select" name="departmentID" id="editPersonnelDepartmentSelect" required></select>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">Location</label>
              <select class="form-select" name="locationID" id="editPersonnelLocationSelect" required></select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Save</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Profile Modal (View/Edit) -->
  <div class="modal fade" id="profileModal" tabindex="-1" aria-labelledby="profileLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content" id="profileContent">
        <!-- Populated by JS -->
      </div>
    </div>
  </div>

  <!-- Delete Confirmation Modal -->
  <div class="modal fade" id="confirmDeleteModal" tabindex="-1" aria-labelledby="confirmDeleteLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmDeleteLabel">Confirm Deletion</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body" id="confirmDeleteBody">
          Are you sure you want to delete this record?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" id="deleteConfirmBtn">Delete</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Department Modal -->
  <div class="modal fade" id="addDepartmentModal" tabindex="-1" aria-labelledby="addDepartmentLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form id="addDepartmentForm">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Department</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label class="form-label">Department Name</label>
              <input type="text" class="form-control" name="name" required>
            </div>
            <div class="mb-3">
              <label class="form-label">Location</label>
              <select class="form-select" name="locationID" id="departmentLocationSelect" required>
                <!-- Populated by JS -->
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Add</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Add Location Modal -->
  <div class="modal fade" id="addLocationModal" tabindex="-1" aria-labelledby="addLocationLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form id="addLocationForm">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Add Location</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label class="form-label">Location Name</label>
              <input type="text" class="form-control" name="name" required>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Add</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Edit Department Modal -->
  <div class="modal fade" id="editDepartmentModal" tabindex="-1" aria-labelledby="editDepartmentLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form id="editDepartmentForm">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editDepartmentLabel">Edit Department</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <input type="hidden" name="id" id="editDepartmentId">
            <div class="mb-3">
              <label class="form-label">Department Name</label>
              <input type="text" class="form-control" name="name" id="editDepartmentName" required>
            </div>
            <div class="mb-3">
              <label class="form-label">Location</label>
              <select class="form-select" name="locationID" id="editDepartmentLocationSelect" required>
                <!-- Populated by JS -->
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Save</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Edit Location Modal -->
  <div class="modal fade" id="editLocationModal" tabindex="-1" aria-labelledby="editLocationLabel" aria-hidden="true">
    <div class="modal-dialog">
      <form id="editLocationForm">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editLocationLabel">Edit Location</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <input type="hidden" name="id" id="editLocationId">
            <div class="mb-3">
              <label class="form-label">Location Name</label>
              <input type="text" class="form-control" name="name" id="editLocationName" required>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Save</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Bootstrap & jQuery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../js/index.js"></script>
</body>
</html>